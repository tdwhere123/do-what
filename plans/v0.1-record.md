# v0.1 执行记录（实际）

## 已完成

### 自动更新模块
- 已删除 `packages/app/src/app/context/updater.ts`。
- 已从 `packages/app/package.json` 删除 `@tauri-apps/plugin-updater`。
- 已从 `packages/desktop/src-tauri/tauri.conf.json` 删除 updater plugin 配置。
- 已从 `packages/desktop/src-tauri/Cargo.toml` 删除 `tauri-plugin-updater` 依赖。
- `app.tsx` 中保留了更新状态透传，但删除了旧 tab 结构下的依赖路径，并调整为当前状态可编译。

### OpenCode Router 模块
- 已删除 `packages/opencode-router/` 整个包。
- 已删除 `packages/app/src/app/pages/identities.tsx`。
- 已从 `pnpm-workspace.yaml` 显式排除 `packages/opencode-router`。
- 已从 `packages/desktop/src-tauri/tauri.conf.json` 删除 `sidecars/opencode-router`。

### Dashboard Tab 合并
- 已将 Dashboard 主 tab 收敛为：
  - `scheduled`
  - `soul`
  - `skills`
  - `extensions`
  - `settings`
- `plugins/mcp` 已统一走 `extensions.tsx`。
- `config/identities` 路由入口已并入 `settings`，并新增 `settings.workspace` 子 tab。
- `packages/app/src/app/types.ts` 中 `DashboardTab` 已更新为 5 个保留值。

## 兼容迁移
- 旧 URL tab 值已映射：
  - `plugins` / `mcp` -> `extensions`
  - `config` / `identities` -> `settings`

## 验证
- `pnpm typecheck`：通过。
- `pnpm dev:ui`：Vite 正常启动（本地日志显示 ready）。

## 未完全覆盖项（后续建议）
- `packages/server/src` 中 `/opencode-router/*` 路由及相关实现尚未在本次改动中整段下线；本次先完成 UI 与工作区基线清理。
- `packages/app/src/app/lib/openwork-server.ts` 仍保留 OpenCode Router 相关类型/接口定义，建议下一步与 server 端同步删减，避免 API 层残留。
